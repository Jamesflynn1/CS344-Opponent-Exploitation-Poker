
from open_spiel.python.algorithms import expected_game_score
import StoreTabularPolicy


#Two player 
def compute_EV(game, opponent_strategy, player_num, EFR_strategy_name):
    strategy_profile = None
    efr_policy = None
    try:
        efr_policy = StoreTabularPolicy.load_tabular_policy(EFR_strategy_name, game)
    except:
        print("Policy not found")
        return None
    if player_num == 1:
        strategy_profile = [opponent_strategy,efr_policy]
    elif player_num == 0:
        strategy_profile = [efr_policy, opponent_strategy]
    else:
        print("2 player only")
        return None
    root = game.new_initial_state()
    return expected_game_score.policy_value(root,strategy_profile)
    