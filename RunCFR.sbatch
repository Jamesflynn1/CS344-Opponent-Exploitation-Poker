#!/bin/bash
#
#SBATCH --job-name=run-cfr-example # Job name for tracking
#SBATCH --partition=cpu-batch  # Partition you wish to use (see above for list)
#SBATCH --cpus-per-task=1      # Number of CPU threads used by your job, set this upto 40 as required.
#SBATCH --mem-per-cpu=1500     # RAM in MB needed per core (i.e. 1500MB * 40 threads = 60GB RAM)
#SBATCH --time=2-00:00:00      # Job time limit set to 2 days (48 hours)
#
#SBATCH --mail-type=END,FAIL,TIME_LIMIT_80 # Events to send email on, remove if you don't want this
#SBATCH --output=joboutput_%j.out # Standard out from your job
#SBATCH --error=joboutput_%j.err  # Standard error from your job

python3.9 -m venv .venv
source .venv/bin/activate
python -m pip install -q -r requirements.txt
cp EFR.py .venv/lib/python3.9/site-packages/open_spiel/python/algorithms
cp EFR.py .venv/lib64/python3.9/site-packages/open_spiel/python/algorithms

mkdir -p  .venv/lib/python3.9/site-packages/open_spiel/python/algorithms/Deviation_Types
cp -R Deviation_Types/* .venv/lib/python3.9/site-packages/open_spiel/python/algorithms/Deviation_Types

mkdir -p  .venv/lib64/python3.9/site-packages/open_spiel/python/algorithms/Deviation_Types
cp -R Deviation_Types/* .venv/lib64/python3.9/site-packages/open_spiel/python/algorithms/Deviation_Types


## Execute your program(s) ##
## Other examples:
## A Python program
python RunEFRExperiment.py
